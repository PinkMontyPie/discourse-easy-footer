<script type="text/discourse-plugin" version="0.8">
  // Register our connector for both common footer locations to ensure it displays
  api.registerConnectorClass('above-footer', 'easy-responsive-footer', {
    setupComponent(args, component) {
      // Setup code if needed
    }
  });
  
  api.registerConnectorClass('below-footer', 'easy-responsive-footer', {
    setupComponent(args, component) {
      // Setup code if needed
    }
  });

  api.onPageChange((url, title) => {
    // This will run on every page change, ensuring the footer is properly displayed
    const footerEnabled = api.container.lookup('service:theme-settings').get('footer_enabled');
    if (footerEnabled) {
      // Make sure the footer is visible
      const footerElement = document.querySelector('.custom-footer');
      if (footerElement) {
        footerElement.style.display = 'block';
      }
    }
  });
</script> 